language: node_js
node_js:
  - "7.10"
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard
  on:
    branch: master
before_deploy:
- test $TRAVIS_TEST_RESULT = 0 \
    && rm -rf $TRAVIS_BUILD_DIR/* \
    && cp index.html $TRAVIS_BUILD_DIR \
    && webpack ./index.js $TRAVIS_BUILD_DIR/bundle.js
